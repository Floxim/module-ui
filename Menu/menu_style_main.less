/*{
    'name':'Main'
}*/
.menu_style_main {
    
    @border_color:rgba(215,215,215,0.5);
    
    #__link {
        display: block;
        padding:15px @layout_padding_horizontal;
        font-size:17px;
        font-weight:500;
        text-transform: uppercase;
        font-family:@font_nav;
        #_active, &:hover {
            color:@color_alt;
        }
    }
    .lightness(@color; @border) {
        #__item_level_1 {
            & when not(@border = none) {
                //border-right:#F00;
            }
            #__link {
                color:@color;
                & when not (@border = none) {
                    //border-left:@border;
                    border-right:@border;
                }
            }
            #_active > #__link, & > #__link:hover {
                color:@color_alt;
            }
            #_has-children #__link:after {
                border-top: 5px solid @color;
            }
        }
    }
    
    .light({
        //.lightness(@color_main; 1px solid @border_color);
        .lightness(@color_main; none);
        #__item_level_1 > #__link {
            text-shadow:0px 0px 4px rgba(255,255,255,0.8);
        }
    });
    
    .dark({
        .lightness(@color_main_inverted; none);
    });
    
    #_layout_horizontal {
        display:flex;
        .layout__section_header & {
            flex-grow:1;
        }
        #__level_level_1 {
            display:flex;
            //margin-bottom:-1px;
        }
        #__link {
            //margin-left:-1px;
        }
        #__item_level_1 {
            display:flex;
            & > #__link_active > #__link-name { 
                position:relative;
                &:after {
                    content: '';
                    position: absolute;
                    //top: -4px;
                    bottom:-5px;
                    left: 0;
                    width:100%;
                    border-top: 3px solid @color_alt;
                    z-index: 10;
                }
            }
            & > #__link {
                display:flex;
                font-weight:bold;
                font-size:19px;
                #__link-name {
                    margin:auto;
                }
            }
        }
        
        #__level_level_2 {
            top:100%;
            left:0;
            box-shadow:1px 1px 10px rgba(0,0,0,0.3);
            #__item {
                border-bottom:1px solid #d7d7d7;
            }
        }
        #__item_has-children {
            & > #__link {
                //padding-right: ~"calc(" @layout_padding_horizontal ~" + 20px)";
                &:after {
                    content:'';
                    display:block;
                    margin: auto 0 auto 15px;
                    border-left: 5px solid transparent;
                    border-right: 5px solid transparent;
                }
            }
            #_active > #__link:after, & > #__link:hover:after {
                border-top: 5px solid @color_alt;
            }
        }
        #__item_expanded #__level {
            display:block;
            min-width:100%;
            background:#FFF;
            z-index:1000;
        }
        #__item_level_2 {
            #__link {
                border-right:1px solid @border_color;
                text-transform:none;
                white-space:nowrap;
                color:@color_main;
                &_active, &:hover {
                    color:@color_alt;
                }
            }
            &:last-child, #__item:last-child {
                border-bottom:1px solid @border_color;
            }
            &:first-child {
                border-top:1px solid @border_color;
            }
        }
    }
}